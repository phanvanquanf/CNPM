@model IList<tblPhong>

<main class="main">

  <!-- Tiêu đề trang -->
  <div class="page-title light-background">
    <div class="container d-lg-flex justify-content-between align-items-center">
      <h1 class="mb-2 mb-lg-0">Phòng</h1>
      <nav class="breadcrumbs">
        <ol>
          <li><a href="/Home/Index">Trang chủ</a></li>
          <li class="current">Phòng</li>
        </ol>
      </nav>
    </div>
  </div>

  <!-- Phần Phòng -->
  <section id="rooms-2" class="rooms-2 section">
    <div class="container" data-aos="fade-up" data-aos-delay="100">

      <div class="room-filters" data-aos="fade-up" data-aos-delay="200">
        <div class="row g-3 align-items-center">
          <div class="col-lg-3 col-md-6">
            <label class="form-label">Khoảng giá</label>
            <select class="form-select">
              <option>Tất cả giá</option>
              <option>100$ - 200$</option>
              <option>200$ - 350$</option>
              <option>Trên 350$</option>
            </select>
          </div>
          <div class="col-lg-3 col-md-6">
            <label class="form-label">Sức chứa khách</label>
            <select class="form-select">
              <option>Bất kỳ sức chứa</option>
              <option>1-2 khách</option>
              <option>3-4 khách</option>
              <option>Trên 5 khách</option>
            </select>
          </div>
          <div class="col-lg-3 col-md-6">
            <label class="form-label">Loại tầm nhìn</label>
            <select class="form-select">
              <option>Tất cả tầm nhìn</option>
              <option>Nhìn ra biển</option>
              <option>Nhìn ra thành phố</option>
              <option>Nhìn ra vườn</option>
            </select>
          </div>
          <div class="col-lg-3 col-md-6">
            <label class="form-label">Sắp xếp theo</label>
            <select class="form-select">
              <option>Phổ biến</option>
              <option>Giá: Thấp đến cao</option>
              <option>Giá: Cao đến thấp</option>
              <option>Kích thước phòng</option>
            </select>
          </div>
        </div>
      </div>

      <div class="rooms-grid" data-aos="fade-up" data-aos-delay="300">
        <div class="row g-4">
          @foreach (var phong in Model)
          {
            <div class="col-xl-4 col-lg-6">
              <div class="room-card">
                <div class="room-image">
                  @{
                    var imgMain = phong.AnhPhongs?.FirstOrDefault(a => a.AnhChinh == true);
                  }
                  <img src="~/@imgMain?.Link" class="img-fluid" alt="@phong.MaSoPhong">
                  <div class="room-features">
                    <span class="feature-badge city">@phong.LoaiPhong?.LoaiPhong</span>
                  </div>
                </div>
                <div class="room-content">
                  <div class="room-header">
                    <h3>@phong.MaSoPhong</h3>
                    <div class="room-rating">
                      @for (int i = 1; i <= 5; i++)
                      {
                        <i class="bi @(i <= Math.Round(phong.Rating ?? 0) ? "bi-star-fill" : "bi-star")"></i>
                      }
                    </div>
                  </div>
                  <p class="room-description">@phong.TongQuan</p>
                  <div class="room-amenities">
                    <span><i class="bi bi-people"></i> Tối đa @phong.LoaiPhong?.SucChua khách</span>
                    @if (phong.LoaiPhong?.TienNghis != null)
                    {
                      foreach (var tienNghi in phong.LoaiPhong.TienNghis)
                      {
                        <span><i class="@tienNghi.Icon"></i> @tienNghi.TienNghi</span>
                      }
                    }
                  </div>
                  <div class="room-footer">
                    <div class="room-price">
                      <span class="price-from">Từ</span>
                      <span class="price-amount">@String.Format("{0:N0}", phong.GiaPhong) VNĐ</span>
                      <span class="price-period">/ đêm</span>
                    </div>
                    <a href="/Room/Details/@phong.IDPhong" class="btn-room-details">Xem chi tiết</a>
                  </div>
                </div>
              </div>
            </div>
          }
        </div>
      </div>
    </div>
  </section>
</main>